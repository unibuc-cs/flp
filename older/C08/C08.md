---
author:
- |
  Traian-Florin Șerbănuță\
  Andrei Sipoș
subtitle: C08
title: \[
---

::: frame
:::

#  Lambda calcul cu tipuri simple și unificare (recap)

::: frame
Ce problemă am rezolvat în cursul trecut?

*Type Inference*

Pentru un lambda termen $M$ fără tipuri, am adnotat termenul $M$ cu
tipuri obținând $\overline{M}$ și am rezolvat (parțial) problema

::: center
$? \vdash {\color{True}\overline{M}\hspace{-.05cm}:}\,{\color{Orchid}?}$
:::

(am găsit un context și un tip, pentru a avea o judecată legală).
:::

::: frame
Type Inference

Fie $M$ un lambda termen fără tipuri.

Construim un context [$\Gamma_M$]{.alert} pentru $M$:

::: center
$\Gamma_M = \{{\color{True}x\hspace{-.05cm}:}\,{\color{Orchid}X}\ |\ x \in FV(M)\}$
:::

(toate variabilele de tip $X$ introduse mai sus sunt noi și distincte)

Adnotăm $M$ cu tipuri pentru variabilele legate obținând
[$\overline{M}$]{.alert} prin inducție după structura lui $M$ astfel:

-   dacă $M = x$, atunci $\overline{M} = M$

-   dacă $M = M_1\, N_1$, atunci
    $\overline{M} = \overline{M_1}\, \overline{N_1}$

-   dacă $M = \lambda x.\,N$, atunci
    $\overline{M} = \lambda {\color{True}x\hspace{-.05cm}:}\,{\color{Orchid}X}.\,\overline{N}$,
    unde $X$ este o variabilă de tip nouă
:::

::: frame
Sistemul $\lambda\hspace{-.1cm}\to$ cu constrângeri

::: center
$\Gamma \vdash {\color{True}M\hspace{-.05cm}:}\,{\color{Orchid}\sigma} \triangleright {\color{False} C}$

  --
  --

  ----------------
   C = C' {\_ '}
  ----------------

  ----------------------------
   C = C_1 C_2 {\_1 \_ \_2 }
  ----------------------------

$\sigma, \tau, \tau', \tau_1, \tau_2$ variabile de tip
:::
:::

::: frame
Sistemul $\lambda\hspace{-.1cm}\to$ cu constrângeri

O judecată de forma
$\Gamma \vdash {\color{True}M\hspace{-.05cm}:}\,{\color{Orchid}\sigma} \triangleright {\color{False} C}$
este [legală]{.alert} dacă constrângerile din $C$ au o \"soluție\".

Fie $M$ un lambda termen fără tipuri. Dacă există o constrângere de
tipuri [$C_M$]{.alert} și o variabilă de tip nouă $V$ astfel încât

::: center
$\Gamma_M \vdash {\color{True}\overline{M}\hspace{-.05cm}:}\,{\color{Orchid}V} \triangleright {\color{False} C_M}$
:::

este o judecată legală, atunci $M$ este *typable*.\
(soluția o găsim prin $C_M$)
:::

::: frame
Type Inference - Exemplul 2

Fie $M_2 = x\, x$.\
Obținem
$\Gamma_{M_2} = \{{\color{True}x\hspace{-.05cm}:}\,{\color{Orchid}X}\}$
și $\overline{M_2} = M_2$.

::: center
  -------------------------------
   C_M = C_1 C_2 {\_1 \_ \_2 V}
  -------------------------------
:::

  ------------------------------------------------------------------------------------------------------------------------------
  $C_1 = \{\tau_1 \stackrel{\cdot}{=}_{} X\}$
  $C_2 = \{\tau_2 \stackrel{\cdot}{=}_{} X\}$
  $C_{M_2} = \{\tau_1 \stackrel{\cdot}{=}_{} X, \tau_2 \stackrel{\cdot}{=}_{} X, \tau_1 \stackrel{\cdot}{=}_{} \tau_2 \to V\}$
  ------------------------------------------------------------------------------------------------------------------------------

Constrângerile $C_{M_2}$ nu au \"soluție\". Ce înseamnă asta?

Constrângerile au \"soluție\" dacă se pot unifica.
:::

::: frame
Termeni

Alfabet:

-   $\mathcal{F}$ o mulțime de simboluri de funcții de aritate cunoscută

-   $\mathcal{V}$ o mulțime numărabilă de variabile

-   $\mathcal{F}$ și $\mathcal{V}$ sunt disjuncte

Termeni peste $\mathcal{F}$ si $\mathcal{V}$: $$\begin{aligned}
t \ ::= \ x\ |\ f(t_1,\ldots,t_n)
\end{aligned}$$

-   $n \geq 0$

-   $x$ este o variabilă

-   $f$ este un simbol de funcție de aritate $n$
:::

::: frame
Termeni Notații:

-    constante: simboluri de funcții de aritate $0$

-   $x,y,z,\ldots$ pentru variabile

-   $a,b,c,\ldots$ pentru constante

-   $f,g,h,\ldots$ pentru simboluri de funcții arbitrare

-   $s,t,u,\ldots$ pentru termeni

-   $var(t)$ mulțimea variabilelor care apar în $t$

-   ecuații $s \stackrel{\cdot}{=}_{} t$ pentru o pereche de termeni

-   $Trm_{\mathcal{F,\mathcal{V}}}$ mulțimea termenilor peste
    $\mathcal{F}$ și $\mathcal{V}$
:::

::: frame
Legătura cu teoria tipurilor

Mulțimea [tipurilor simple]{.alert}
$\mathbb{T} = \mathbb{V}\ |\ \mathbb{T} \rightarrow \mathbb{T}$

În acest caz, avem alfabetul:

-   $\mathcal{F} = \{\to\}$, iar aritatea lui $\to$ este $2$

-   $\mathcal{V} = \mathbb{V}$

Dacă avem și alte tipuri, extindem $\mathcal{F}$ cu noi simboluri. De
exemplu,

-   $\ensuremath{\texttt{Unit}}, \ensuremath{\texttt{Void}}$ cu aritate
    $0$ (deci constante)

-   $\ensuremath{\texttt{Bool}}, \texttt{Nat}$ cu aritate $0$ (deci
    constante)

-   $\texttt{Maybe}, \texttt{List}$ cu aritate $1$

-   $\times$ cu aritate $2$

-   $\ldots$
:::

::: frame
Substituții

O substituție $\Theta$ este o funcție de la variabile la termeni,

::: center
$\Theta: \mathcal{V} \to Trm_{\mathcal{F,\mathcal{V}}}$
:::

Notație pentru substituții care schimbă un număr finit de variabile:
$$[u_1 / x_1, u_2 / x_2, \ldots, u_n / x_n]$$

Aplicarea unei substituții $\Theta$ unui termen $t$: $$\begin{aligned}
\Theta(t) = 
\left\{
    \begin{array}{ll}
        \Theta(x), \mbox{ dacă } t = x \\
        f(\Theta(t_1),\ldots,\Theta(t_n)), \mbox{ dacă } t = f(t_1,\ldots,t_n) \\
    \end{array}
\right. 
\end{aligned}$$

Notație pentru $\Theta(t)$:
$t [u_1 / x_1, u_2 / x_2, \ldots, u_n / x_n]$
:::

::: frame
Unificare

Doi termeni $t_1$ și $t_2$ se unifică dacă există o substituție $\Theta$
astfel încât

::: center
$\Theta(t_1) = \Theta(t_2)$.
:::

În acest caz, $\Theta$ se numește un unificator al termenilor $t_1$ și
$t_2$.

Un unificator $\Theta$ pentru $t_1$ și $t_2$ este cel mai general
unificator ( cmgu,mgu) dacă pentru orice alt unificator $\Theta'$ pentru
$t_1$ și $t_2$, există o substituție $\Delta$ astfel încât

::: center
$\Theta' = \Theta ; \Delta$.
:::

De exemplu, dacă $\Theta$ este
$[u_1 / x_1, u_2 / x_2, \ldots, u_n / x_n]$, atunci $\Delta$ este de
forma $[v_1 / y_1, v_2 / y_2, \ldots, v_n / y_m]$ cu $x_i \neq y_j$
pentru orice alegere a lui $i$ și $j$, și
$$\Theta' = [\Delta(u_1) / x_1, \ldots \Delta(u_n) / x_n, v_1 / y_1, \ldots, v_m / y_m]$$
:::

::: frame
Unificatori

Exemplu:

-   ${\color{IntensColor} t = x + (y * y)} = +(x,*(y,y))$

-   ${\color{IntensColor} t' = x + (y * x)} = +(x,*(y,x))$

-   $\Theta = \{x \mapsto y\}$

    -   $\Theta(t) = y + (y * y)$

    -   $\Theta(t') = y + (y * y)$

    -   $\Theta$ este cmgu

-   $\Theta'= \{x \mapsto 0, y \mapsto 0\}$

    -   $\Theta'(t) = 0 + (0 * 0)$

    -   $\Theta'(t') = 0 + (0 * 0)$

    -   $\Theta' = \Theta ; \{y \mapsto 0\}$

    -   $\Theta'$ este unificator, dar nu este cmgu
:::

#  Algoritmul de unificare

::: frame
Algoritmul de unificare

-   Pentru o mulțime finită de termeni $\{t_1,\ldots, t_n\}$,
    $n \geq 2$,\
    algoritmul de unificare stabilește dacă există un cmgu.

-   Există algoritmi mai eficienți,\
    dar îl alegem pe acesta pentru simplitatea sa.

-   Algoritmul lucrează cu două liste:

    -    Lista soluție: $S$

    -    Lista de rezolvat: $R$

-    Inițial:

    -    Lista soluție: $S = \emptyset$

    -    Lista de rezolvat:
        $R = \{t_1 \stackrel{\cdot}{=}_{} t_2, \ldots, t_{n-1} \stackrel{\cdot}{=}_{} t_n\}$\
        $\stackrel{\cdot}{=}_{}$ este un simbol nou care ne ajută să
        formăm perechi de termeni (\"ecuații\")
:::

::: frame
Algoritmul de unificare Algoritmul constă în aplicarea regulilor de mai
jos:

-    SCOATE

    -   orice ecuație de forma $t \stackrel{\cdot}{=}_{} t$ din $R$ este
        eliminată.

-    DESCOMPUNE

    -   orice ecuație de forma
        $f(t_1,\ldots,t_n) \stackrel{\cdot}{=}_{} f(t_1',\ldots,t_n')$
        din $R$ este înlocuită cu ecuațiile
        $t_1\stackrel{\cdot}{=}_{}t_1', \ldots, t_n \stackrel{\cdot}{=}_{}t_n'$.

-    REZOLVĂ

    -   orice ecuație de forma $x \stackrel{\cdot}{=}_{} t$ sau
        $t \stackrel{\cdot}{=}_{} x$ din $R$, unde variabila $x$ nu
        apare în termenul $t$, este mutată sub forma
        $x \stackrel{\cdot}{=}_{} t$ în $S$.\
        În toate celelalte ecuații (din $R$ și $S$), $x$ este înlocuit
        cu $t$.
:::

::: frame
Algoritmul de unificare Algoritmul se termină normal dacă
$R = \emptyset$.\
În acest caz, $S$ conține cmgu.

Algoritmul este oprit cu concluzia inexistenței unui unificator dacă:

1.  În $R$ există o ecuație de forma

    ::: center
    $f(t_1,\ldots,t_n) \stackrel{\cdot}{=}_{} g(t_1',\ldots,t_k')$ cu
    $f \neq g$.
    :::

2.  În $R$ există o ecuație de forma $x \stackrel{\cdot}{=}_{} t$ sau
    $t \stackrel{\cdot}{=}_{} x$ și variabila $x$ apare în termenul $t$.
:::

::: frame
Algoritmul de unificare - schemă

::: center
  ------------- -------------------------------------------- --------------------------------------------------------------------------------------------
                               Lista soluție                                                      Lista de rezolvat
                                     S                                                                    R
     Inițial                    $\emptyset$                           $t_1 \stackrel{\cdot}{=}_{} t_1',\ldots, t_n \stackrel{\cdot}{=}_{} t_n'$
     SCOATE                         $S$                                                   $R'$, $t \stackrel{\cdot}{=}_{} t$
       2-3                          $S$                                                                  $R'$
   DESCOMPUNE                       $S$                                  $R'$, $f(t_1,\ldots,t_n) \stackrel{\cdot}{=}_{} f(t_1',\ldots,t_n')$
       2-3                          $S$                              $R'$, $t_1\stackrel{\cdot}{=}_{}t_1', \ldots t_n \stackrel{\cdot}{=}_{}t_n'$
     REZOLVĂ                        $S$                        $R'$, $x \stackrel{\cdot}{=}_{} t$ sau $t \stackrel{\cdot}{=}_{} x$, $x$ nu apare în $t$
       2-3        $x \stackrel{\cdot}{=}_{} t$, $S[t / x]$                                           $R'[t / x]$
      Final                         $S$                                                              $\emptyset$
  ------------- -------------------------------------------- --------------------------------------------------------------------------------------------

$S[t / x]$: în toate ecuațiile din $S$, $x$ este înlocuit cu $t$
:::
:::

::: frame
Exemplul 1

Ecuațiile
$\{g(y) \stackrel{\cdot}{=}_{}x,\ f(x,h(x),y) \stackrel{\cdot}{=}_{} f(g(z),w,z)\}$
au cmgu?

::: center
                                                     $S$                                                                                                     $R$                                                  
  ---------------------------------------------------------------------------------------------------------- ---------------------------------------------------------------------------------------------------- -------------
                                                 $\emptyset$                                                           $g(y) \stackrel{\cdot}{=}_{} x,\ f(x,h(x),y) \stackrel{\cdot}{=}_{} f(g(z),w,z)$              REZOLVĂ
                            ${\color{IntensColor} x \stackrel{\cdot}{=}_{} g(y)}$                             $f({\color{IntensColor} g(y)},h({\color{IntensColor} g(y)}),y) \stackrel{\cdot}{=}_{} f(g(z),w,z)$   DESCOMPUNE
                                       $x \stackrel{\cdot}{=}_{} g(y)$                                        $g(y) \stackrel{\cdot}{=}_{} g(z),\ h(g(y)) \stackrel{\cdot}{=}_{} w,\ y \stackrel{\cdot}{=}_{} z$     REZOLVĂ
                          ${\color{IntensColor} w \stackrel{\cdot}{=}_{} h(g(y))},$                                            $g(y) \stackrel{\cdot}{=}_{} g(z),\ y \stackrel{\cdot}{=}_{} z$                       REZOLVĂ
                                      $\ x \stackrel{\cdot}{=}_{} g(y)$                                                                                                                                           
   ${\color{IntensColor} y \stackrel{\cdot}{=}_{} z}, x \stackrel{\cdot}{=}_{} g({\color{IntensColor} z}),$                        $g({\color{IntensColor} z}) \stackrel{\cdot}{=}_{} g(z)$                          SCOATE
                           $w \stackrel{\cdot}{=}_{} h(g({\color{IntensColor} z}))$                                                                                                                               
                         $y \stackrel{\cdot}{=}_{} z, x \stackrel{\cdot}{=}_{} g(z),$                                                                    $\emptyset$                                              
                                      $w \stackrel{\cdot}{=}_{} h(g(z))$                                                                                                                                          
:::

$\Theta = \{y \mapsto z,\ x \mapsto g(z),\ w \mapsto h(g(z)) \}$ este
cmgu.
:::

::: frame
Exemplul 2

Ecuațiile
$\{g(y) \stackrel{\cdot}{=}_{} x,\ f(x,h(y),y) \stackrel{\cdot}{=}_{} f(g(z),b,z)\}$
au cmgu?

::: center
                            $S$                                                                                 $R$                                                        
  ------------------------------------------------------- ---------------------------------------------------------------------------------------------------------------- -------------
                        $\emptyset$                                       $g(y) \stackrel{\cdot}{=}_{} x,\ f(x,h(y),y) \stackrel{\cdot}{=}_{} f(g(z),b,z)$                    REZOLVĂ
   ${\color{IntensColor} x \stackrel{\cdot}{=}_{} g(y)}$                     $f({\color{IntensColor} g(y)},h(y),y) \stackrel{\cdot}{=}_{} f(g(z),b,z)$                      DESCOMPUNE
              $x \stackrel{\cdot}{=}_{} g(y)$              $g(y) \stackrel{\cdot}{=}_{} g(z),\ {\color{False}h(y) \stackrel{\cdot}{=}_{} b},\ y \stackrel{\cdot}{=}_{} z$    - EȘEC -
:::

-   $h$ și $b$ sunt simboluri de funcții diferite!

-   Nu există unificator pentru acești termeni.
:::

::: frame
Exemplul 3

Ecuațiile
$\{g(y) \stackrel{\cdot}{=}_{} x,\ f(x,h(x),y) \stackrel{\cdot}{=}_{} f(y,w,z)\}$
au cmgu?

::: center
                            $S$                                                                                 $R$                                                        
  ------------------------------------------------------- ---------------------------------------------------------------------------------------------------------------- -------------
                        $\emptyset$                                        $g(y) \stackrel{\cdot}{=}_{} x,\ f(x,h(x),y) \stackrel{\cdot}{=}_{} f(y,w,z)$                      REZOLVĂ
   ${\color{IntensColor} x \stackrel{\cdot}{=}_{} g(y)}$          $f({\color{IntensColor} g(y)},h({\color{IntensColor} g(y)}),y) \stackrel{\cdot}{=}_{} f(y,w,z)$           DESCOMPUNE
              $x \stackrel{\cdot}{=}_{} g(y)$              ${\color{False}g(y) \stackrel{\cdot}{=}_{} y},\ h(g(y)) \stackrel{\cdot}{=}_{} w,\ y \stackrel{\cdot}{=}_{} z$    - EȘEC -
:::

-   În ecuația ${g(y) \stackrel{\cdot}{=}_{} y}$, variabila $y$ apare în
    termenul $g(y)$.

-   Nu există unificator pentru aceste ecuații.
:::

::: frame
Exemplul 4

Înapoi la constrângerea obținută când am vorbit de *type inference*
pentru termenul $M_1 = (\lambda z.\,\lambda u.\,z)\, (y\, x)$.

Am obținut constrângerile

::: center
$C_{M_1} = \{\delta \stackrel{\cdot}{=}_{} Z, \tau_1' \stackrel{\cdot}{=}_{} (U \to \delta), \tau_1 \stackrel{\cdot}{=}_{} (Z \to \tau_1'), \sigma_1 \stackrel{\cdot}{=}_{} Y, \sigma_2 \stackrel{\cdot}{=}_{} X,$\
$\sigma_1 \stackrel{\cdot}{=}_{} \sigma_2 \to \tau_2, \tau_1 \stackrel{\cdot}{=}_{} (\tau_2 \to V)\}$
:::

-   $\to$ simbol de funcție de aritate $2$

-   $\delta, \tau_1, \tau_1', \tau_2, \sigma_1, \sigma_2, X,Y, Z, U, V$
    variabile
:::

::: frame
Exemplul 4 (cont.)

::: center
                                        $S$                                                                                                                                               $R$                                                                                                         
  ------------------------------------------------------------------------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- --------
                                    $\emptyset$                                    ${\color{IntensColor} \delta} \stackrel{\cdot}{=}_{} Z,\ \tau_1' \stackrel{\cdot}{=}_{} (U \to {\color{IntensColor} \delta}),\ \tau_1 \stackrel{\cdot}{=}_{} (Z \to \tau_1'),\ \sigma_1 \stackrel{\cdot}{=}_{} Y$    REZ.
                                                                                                                       $\sigma_2 \stackrel{\cdot}{=}_{} X,\ \sigma_1 \stackrel{\cdot}{=}_{} \sigma_2 \to \tau_2,\ \tau_1 \stackrel{\cdot}{=}_{} (\tau_2 \to V)$                                       
                         $\delta \stackrel{\cdot}{=}_{} Z$                                            ${\color{IntensColor} \tau_1'} \stackrel{\cdot}{=}_{} (U \to Z),\ \tau_1 \stackrel{\cdot}{=}_{} (Z \to {\color{IntensColor} \tau_1'}),\ \sigma_1 \stackrel{\cdot}{=}_{} Y$                        REZ.
                                                                                                                       $\sigma_2 \stackrel{\cdot}{=}_{} X,\ \sigma_1 \stackrel{\cdot}{=}_{} \sigma_2 \to \tau_2,\ \tau_1 \stackrel{\cdot}{=}_{} (\tau_2 \to V)$                                       
   $\delta \stackrel{\cdot}{=}_{} Z,\ \tau_1' \stackrel{\cdot}{=}_{} (U \to Z)$                                                       ${\color{IntensColor} \tau_1} \stackrel{\cdot}{=}_{} (Z \to (U \to Z)),\ \sigma_1 \stackrel{\cdot}{=}_{} Y$                                                       REZ.
                                                                                                            $\sigma_2 \stackrel{\cdot}{=}_{} X,\ \sigma_1 \stackrel{\cdot}{=}_{} \sigma_2 \to \tau_2,\ {\color{IntensColor} \tau_1} \stackrel{\cdot}{=}_{} (\tau_2 \to V)$                            
   $\delta \stackrel{\cdot}{=}_{} Z,\ \tau_1' \stackrel{\cdot}{=}_{} (U \to Z),$                                            $\sigma_1 \stackrel{\cdot}{=}_{} Y,\ \sigma_2 \stackrel{\cdot}{=}_{} X,\ \sigma_1 \stackrel{\cdot}{=}_{} \sigma_2 \to \tau_2,$                                             DESC.
                 $\tau_1 \stackrel{\cdot}{=}_{} (Z \to (U \to Z))$                                                                                             $(Z \to (U \to Z)) \stackrel{\cdot}{=}_{} (\tau_2 \to V)$                                                                              
   $\delta \stackrel{\cdot}{=}_{} Z,\ \tau_1' \stackrel{\cdot}{=}_{} (U \to Z),$                      ${\color{IntensColor} \sigma_1} \stackrel{\cdot}{=}_{} Y,\ \sigma_2 \stackrel{\cdot}{=}_{} X,\ {\color{IntensColor} \sigma_1} \stackrel{\cdot}{=}_{} \sigma_2 \to \tau_2,$                        REZ.
                 $\tau_1 \stackrel{\cdot}{=}_{} (Z \to (U \to Z))$                                                                                       $Z \stackrel{\cdot}{=}_{} \tau_2,\ U \to Z \stackrel{\cdot}{=}_{} V$                                                                         
   $\delta \stackrel{\cdot}{=}_{} Z,\ \tau_1' \stackrel{\cdot}{=}_{} (U \to Z),$                                            ${\color{IntensColor} \sigma_2} \stackrel{\cdot}{=}_{} X,\ Y \stackrel{\cdot}{=}_{} {\color{IntensColor} \sigma_2} \to \tau_2,$                                             REZ.
                $\tau_1 \stackrel{\cdot}{=}_{} (Z \to (U \to Z)),$                                                                                       $Z \stackrel{\cdot}{=}_{} \tau_2,\ U \to Z \stackrel{\cdot}{=}_{} V$                                                                         
                        $\sigma_1 \stackrel{\cdot}{=}_{} Y$                                                                                                                                                                                                                                           
   $\delta \stackrel{\cdot}{=}_{} Z,\ \tau_1' \stackrel{\cdot}{=}_{} (U \to Z),$                                                                            $Y \stackrel{\cdot}{=}_{} X \to {\color{IntensColor} \tau_2},$                                                                              REZ.
                $\tau_1 \stackrel{\cdot}{=}_{} (Z \to (U \to Z)),$                                                                            $Z \stackrel{\cdot}{=}_{} {\color{IntensColor} \tau_2},\ U \to Z \stackrel{\cdot}{=}_{} V$                                                              
      $\sigma_1 \stackrel{\cdot}{=}_{} Y, \sigma_2 \stackrel{\cdot}{=}_{} X$                                                                                                                                                                                                                          
:::
:::

::: frame
Exemplul 4 (cont.)

::: center
:::

Constrângerile se pot unifica!
:::

::: frame
Exemplul 5

Înapoi la constrângerea obținută când am vorbit de *type inference*
pentru termenul $M_2 = x\, x$.

Am obținut constrângerile

::: center
$C_{M_2} = \{\tau_1 \stackrel{\cdot}{=}_{} X, \tau_2 \stackrel{\cdot}{=}_{} X, \tau_1 \stackrel{\cdot}{=}_{} \tau_2 \to V\}$
:::

-   $\to$ simbol de funcție de aritate $2$

-   $\tau_1,  \tau_2, V$ variabile
:::

::: frame
Exemplul 5 (cont.)

::: center
                                   $S$                                                                                                               $R$                                                                               
  --------------------------------------------------------------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------- ----------
                               $\emptyset$                               ${\color{IntensColor} \tau_1} \stackrel{\cdot}{=}_{} X,\ \tau_2 \stackrel{\cdot}{=}_{} X,\ {\color{IntensColor} \tau_1} \stackrel{\cdot}{=}_{} \tau_2 \to V$     REZ.
                    $\tau_1 \stackrel{\cdot}{=}_{} X$                                       ${\color{IntensColor} \tau_2} \stackrel{\cdot}{=}_{} X,\ X \stackrel{\cdot}{=}_{} {\color{IntensColor} \tau_2} \to V$                         REZ.
   $\tau_1 \stackrel{\cdot}{=}_{} X,\ \tau_2 \stackrel{\cdot}{=}_{} X$                                                        ${\color{False}X \stackrel{\cdot}{=}_{} X \to V}$                                                         - EȘEC -
:::

-   În ecuația ${X \stackrel{\cdot}{=}_{} X \to V}$, variabila $X$ apare
    în termenul $X \to V$.

-   Nu există unificator pentru aceste ecuații.
:::

::: frame
Exerciții

Considerăm

-   $x,y,z,u,v$ variabile,

-   $a,b,c$ simboluri de constantă,

-   $h,g$ simboluri de funcție de aritate 1,

-   $f$ simbol de funcție de aritate 2,

-   $p$ simbol de funcție de aritate 3.

Aplicați algoritmul de unificare de mai sus pentru termenii:

1.  $p(a,x,h(g(y)))$ și $p(z,h(z), h(u))$

2.  $f(h(a),g(x))$ și $f(y,y)$

3.  $p(a,x,g(x))$ și $p(a,y,y)$

4.  $p(x,y,z)$ și $p(u,f(v,v), u)$
:::

::: frame
Exerciții - rezolvări

1\.

                                              $S$                                                                                             $R$                                                 
  -------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------------------------- ------------
                                          $\emptyset$                                                                         $p(a, x, h(g(y)))= p(z, h(z), h(u))$                                 DESCOMPUNE
                                          $\emptyset$                                           $a \stackrel{\cdot}{=}_{} z, x \stackrel{\cdot}{=}_{} h(z), h(g(y)) \stackrel{\cdot}{=}_{} h(u)$    REZOLVĂ
                                  $z \stackrel{\cdot}{=}_{} a$                                                $x \stackrel{\cdot}{=}_{} h(a), h(g(y)) \stackrel{\cdot}{=}_{} h(u)$                  REZOLVĂ
                  $z \stackrel{\cdot}{=}_{} a, x \stackrel{\cdot}{=}_{} h(a)$                                                $h(g(y)) \stackrel{\cdot}{=}_{} h(u)$                                 DESCOMPUNE
                  $z \stackrel{\cdot}{=}_{} a, x \stackrel{\cdot}{=}_{} h(a)$                                                   $g(y) \stackrel{\cdot}{=}_{} u$                                     REZOLVĂ
   $z \stackrel{\cdot}{=}_{} a, x \stackrel{\cdot}{=}_{} h(a), u \stackrel{\cdot}{=}_{} g(y)$                                             $\emptyset$                                             

$\Theta = \{z / a,\ x / h(a),\ u / g(y) \}$ este cmgu.
:::

::: frame
Exerciții - rezolvări

2\.

                 $S$                                              $R$                                
  --------------------------------- ---------------------------------------------------------------- ------------
             $\emptyset$                     $f(h(a), g(x)) \stackrel{\cdot}{=}_{} f(y,y)$            DESCOMPUNE
             $\emptyset$             $y \stackrel{\cdot}{=}_{} h(a), y \stackrel{\cdot}{=}_{} g(x)$    REZOLVĂ
   $y \stackrel{\cdot}{=}_{} h(a)$                 $g(x) \stackrel{\cdot}{=}_{} h(a)$                    EȘEC

Nu există unificator!
:::

::: frame
Exerciții - rezolvări

3\.

               $S$                                                          $R$                                            
  ------------------------------ ----------------------------------------------------------------------------------------- ------------
           $\emptyset$                               $p(a, x, g(x)) \stackrel{\cdot}{=}_{} p(a, y, y)$                      DESCOMPUNE
           $\emptyset$            $a \stackrel{\cdot}{=}_{} a, x \stackrel{\cdot}{=}_{} y, y \stackrel{\cdot}{=}_{} g(x)$     SCOATE
           $\emptyset$                          $x \stackrel{\cdot}{=}_{} y, y \stackrel{\cdot}{=}_{} g(x)$                  REZOLVĂ
   $x \stackrel{\cdot}{=}_{} y$                               $y \stackrel{\cdot}{=}_{} g(y)$                                  EȘEC

Nu există unificator!
:::

::: frame
Exerciții - rezolvări

4\.

                                              $S$                                                                                         $R$                                              
  ------------------------------------------------------------------------------------------- -------------------------------------------------------------------------------------------- ------------
                                          $\emptyset$                                                             $p(x, y, z) \stackrel{\cdot}{=}_{} p(u, f(v,v), u)$                       DESCOMPUNE
                                          $\emptyset$                                          $x \stackrel{\cdot}{=}_{} u, y \stackrel{\cdot}{=}_{} f(v,v),  z \stackrel{\cdot}{=}_{} u$    REZOLVĂ
                                 $x \stackrel{\cdot}{=}_{} u$                                                $y \stackrel{\cdot}{=}_{} f(v,v),  z \stackrel{\cdot}{=}_{} u$                  REZOLVĂ
                 $y \stackrel{\cdot}{=}_{} f(v,v), x \stackrel{\cdot}{=}_{} u$                                                $z \stackrel{\cdot}{=}_{} u$                                   REZOLVĂ
   $z \stackrel{\cdot}{=}_{} u, y \stackrel{\cdot}{=}_{} f(v,v), x \stackrel{\cdot}{=}_{} u$                                                                                               

$\Theta = \{ z / u,\ y / f(v,v), \ x / u \}$ este cmgu.
:::

::: frame
**Pe data viitoare!**
:::
